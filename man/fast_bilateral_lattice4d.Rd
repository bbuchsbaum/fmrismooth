% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bilateral_lattice.R
\name{fast_bilateral_lattice4d}
\alias{fast_bilateral_lattice4d}
\title{4D joint bilateral lattice with weak temporal coupling (design-aware)}
\usage{
fast_bilateral_lattice4d(
  vec,
  sigma_sp = 2.5,
  sigma_t = 0.5,
  sigma_r = 1,
  guide_spatial = NULL,
  guides = NULL,
  design = NULL,
  sigma_d = 1,
  blur_iters = 1L,
  mask = NULL
)
}
\arguments{
\item{vec}{4D fMRI array or `NeuroVec`.}

\item{sigma_sp}{Spatial sigma (voxels).}

\item{sigma_t}{Temporal sigma (frames).}

\item{sigma_r}{Range sigma(s) for guide intensity dimensions. Scalar or
vector matching `guide_spatial` + length(`guides`). Has an effect only
when `guide_spatial` and/or `guides` are provided; otherwise the filter
is purely spatial (plus optional temporal/design features) and `sigma_r`
is ignored.}

\item{guide_spatial}{Optional 3D spatial guide.}

\item{guides}{Optional list of 3D guides (probability maps, etc.).}

\item{design}{Optional numeric vector of length T (frames) for design-aware features.}

\item{sigma_d}{Sigma for design regressor feature.}

\item{blur_iters}{Integer number of lattice blur iterations.}

\item{mask}{Optional 3D logical/0-1 mask.}
}
\value{
Smoothed 4D data, wrapped like `vec` when possible.
}
\description{
Applies joint bilateral filtering across space and time. Temporal coupling
is modeled via an extra feature; an optional design regressor can be added
to the lattice features.
}
