% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/st_guided_filter.R
\name{st_guided_filter4d}
\alias{st_guided_filter4d}
\title{4D separable spatiotemporal guided filter
Spatial guided filtering is applied per-frame (3D). Optionally, a temporal
guided step (1D per voxel) is applied with motion-aware frame weights.}
\usage{
st_guided_filter4d(
  vec,
  radius_sp = 4L,
  eps_sp = 0.7^2,
  radius_t = 1L,
  eps_t = 0.3^2,
  guide_spatial = NULL,
  guide_temporal = NULL,
  motion_params = NULL,
  sigma_m = 0.5,
  mask = NULL
)
}
\arguments{
\item{vec}{4D fMRI array or `NeuroVec`.}

\item{radius_sp}{Spatial filter radius (voxels).}

\item{eps_sp}{Spatial regularization (variance floor).}

\item{radius_t}{Temporal filter radius (frames).}

\item{eps_t}{Temporal regularization.}

\item{guide_spatial}{Optional 3D spatial guide.}

\item{guide_temporal}{Optional length-T temporal guide.}

\item{motion_params}{Optional TÃ—(3 or 6) motion regressors; used to weight temporal guidance.}

\item{sigma_m}{Motion weight scale (frames).}

\item{mask}{Optional 3D logical/0-1 mask.}
}
\value{
Smoothed 4D data, wrapped like `vec` when possible.
}
\description{
4D separable spatiotemporal guided filter
Spatial guided filtering is applied per-frame (3D). Optionally, a temporal
guided step (1D per voxel) is applied with motion-aware frame weights.
}
